{% extends 'base.html.twig' %}

{% block title %}MAPPIX - Conciergerie Rouen{% endblock %}

{% block stylesheets %}
{{ parent() }}
{# Inclusion du CSS personnalisé avec AssetMapper #}
<link rel="stylesheet" href="{{ asset('styles/mappix.css') }}">
{% endblock %}

{% block body %}
<!-- Header / Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark position-fixed w-100 d-flex justify-content-between"
  style="z-index: 1030;">
  <div class="container container-fluid px-5">
    <a href="{{ path('app_home') }}" class="navbar-brand"><img src="{{asset('images/logo1.png')}}" alt="Logo Mappix"
        style="width: 30%;"></a>
    {# <a href="{{ path('app_home') }}"><img src="{{asset('images/logo2.png')}}" alt="Logo Mappix"
        style="width: 30%;"></a> #}
    {# <a href="{{ path('app_home') }}"><img src="{{asset('images/logo3.png')}}" alt="Logo Mappix"
        style="width: 30%;"></a> #}
    {# <a href="{{ path('app_home') }}"><img src="{{asset('images/logo4.png')}}" alt="Logo Mappix"
        style="width: 30%;"></a> #}
    <div class="collapse navbar-collapse" id="navbarNav px-5">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link active" href="{{ path('app_home') }}">ACCUEIL</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">CONTACT</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ path('app_register') }}">S'INSCRIRE</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ path('app_login') }}">SE CONNECTER</a>
        </li>
      </ul>
      <div class="dropdown">
        <button class="btn btn-outline-light dropdown-toggle" type="button" id="languageDropdown"
          data-bs-toggle="dropdown">
          LANGUE
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" href="#">Français</a></li>
          <li><a class="dropdown-item" href="">English</a></li>
          <li><a class="dropdown-item" href="#">Español</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<div class="mainContainer" style="width: 100%; max-width: 1920px; margin: 0 auto">
  <!-- Hero Section avec image de fond -->
  <section class="hero-section position-relative" style="height: 100vh;">
    <div class="hero-image-wrapper" style="position: relative; width: 100%; height: 100%; overflow: hidden;">
      <img src="{{ asset('images/img_hero_homepage.jpg') }}" alt="Rouen - Conciergerie" class="hero-image"
        style="width: 100%; max-width: 1920px">
      <div class="hero-overlay"></div>
    </div>
    <div class="hero-content position-absolute top-50 start-50 translate-middle text-center" style="background-color: rgba(0, 0, 0, 0.5); width: 40%; padding: 2rem">
      <h1 class="hero-title text-white mb-4">Bienvenue sur Mappix</h1>
      <h2 class="hero-subtitle text-white mx-auto fs-5 mb-5" style="width: 90%">Repérez-vous en un instant et découvrez tout ce dont
        vous avez besoin pendant votre séjour grâce à notre carte interactive.</h2>
      <a href="{{ path('app_register') }}" class="btn btn-light btn-lg px-5 shadow-lg">S'inscrire</a>
    </div>
  </section>

  <!-- Section Evénements -->
  {% if recentEvents is defined and recentEvents|length > 0 %}
  <section class="py-5" style="background-color: #212529;">
    <div class="container">
      <h2 class="text-center mb-4 fw-bold" style="color: #fff;">Événements à venir</h2>
      <div class="row g-4">
        {% for event in recentEvents %}
        <div class="col-md-4">
          <div class="card h-100 border-dark card-hover">
            {# Image si disponible
            {% if event.image %}
            <img src="{{ asset('uploads/events/' ~ event.image) }}" class="card-img-top" alt="{{ event.title }}">
            {% endif %} #}

            <div class="card-body d-flex flex-column">
              <h5 class="card-title fw-bold text-center mb-3">{{ event.nom }}</h5>
              <p class="card-text grow">
                {{ event.description|length > 150 ? event.description|slice(0, 150) ~ '...' : event.description }}
              </p>

              {# Date si disponible #}
              {% if event.startAt %}
              <div class="text-muted small mb-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-calendar-event" viewBox="0 0 16 16">
                  <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5z" />
                  <path
                    d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z" />
                </svg>
                {{ event.startAt|date('d/m/Y') }}
              </div>
              {% endif %}

              {# <a href="{{ path('app_evenement_show', {'id': event.id}) }}" class="btn btn-outline-dark mt-auto">En
                savoir plus</a> #}
              <a href="#" class="btn btn-outline-dark mt-auto">En savoir plus</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

      {# Bouton voir tous les événements #}
      <div class="text-center mt-4">
        {# <a href="{{ path('app_evenement_index') }}" class="btn btn-light btn-lg">Voir tous les événements</a> #}
        <a href="#" class="btn btn-light btn-lg">Voir tous les événements</a>
      </div>
    </div>
  </section>
  {% endif %}

  <!-- Section Services -->
  {% if services is defined and services|length > 0 %}
  <section class="py-5" style="background-color: #212529;">
    <div class="container">
      <h2 class="text-center mb-4 fw-bold" style="color: #fff;">Nos Services</h2>
      <div class="row g-4">
        {% for service in services %}
        <div class="col-md-4">
          <div class="card h-100 border-dark card-hover">

            <div class="card-body d-flex flex-column">
              <h5 class="card-title fw-bold text-center mb-3">{{ service.nom }}</h5>
              <p class="card-text grow">
                {{ service.description|length > 150 ? service.description|slice(0, 150) ~ '...' : service.description }}
              </p>
              {# <a href="{{ path('app_service_show', {'id': service.id}) }}"
                class="btn btn-outline-dark mt-auto">Découvrir</a> #}
              <a href="#" class="btn btn-outline-dark mt-auto">Découvrir</a>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      {# Bouton voir tous les services #}
      <div class="text-center mt-4">
        {# <a href="{{ path('app_service_index') }}" class="btn btn-light btn-lg">Voir tous les services</a> #}
        <a href="#" class="btn btn-light btn-lg">Voir tous les services</a>
      </div>
    </div>
  </section>
  {% endif %}
</div>

<!-- Bouton de retour en haut -->
<div class="float-end btn-fixed-10">
  <a href="#" class="btn btn-light btn-scroll-top shadow" id="scrollTopBtn">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-up"
      viewBox="0 0 16 16">
      <path fill-rule="evenodd"
        d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5" />
    </svg>
  </a>
</div>

<!-- Footer -->
<footer class="bg-dark text-white py-4 mt-1">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p class="mb-0 fw-bold">MAPPIX</p>
      </div>
      <div class="col-md-6 text-md-end">
        <p class="mb-0 small">Copyright © 2013 - 2025 Mappix</p>
        <p class="mb-0 small">
          <a href="#" class="text-white text-decoration-none">Mentions légales</a> /
          <a href="#" class="text-white text-decoration-none">CGU</a> /
          <a href="#" class="text-white text-decoration-none">Informations sur les cookies</a> /
          <a href="#" class="text-white text-decoration-none">Confidentialité</a> /
          <a href="#" class="text-white text-decoration-none">Nous contacter</a>
        </p>
      </div>
    </div>
  </div>
</footer>
{% endblock %}

{% block javascripts %}
{{ parent() }}
{# Inclusion du JS personnalisé avec AssetMapper #}
<script src="{{ asset('mappix.js') }}"></script>
{% endblock %}